<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probability</title>
    <link rel="stylesheet" href="/bootstrap.min.css">
</head>
<body>

    <header class="bg-light">
        <div class="container d-flex p-2 justify-content-between align-content-center">
            <h4>Probability</h4>
            <div class="d-flex align-items-center gap-3">
                <a href="#increment" class="text-dark text-decoration-none fw-bold">Increment</a>
                <a href="#random" class="text-dark text-decoration-none fw-bold">Random</a>
            </div>
        </div>
    </header>

    <div class="my-5 container">
        <h2>End Points</h2>
        <ul>
            <li><code>/rewards/Increment</code> <br>
                <span class="ps-2">selects a random reward based on # of requests</span>
            </li>
            <li><code>/rewards/random</code> <br>
                <span class="ps-2">selects a random reward based on chances of data item</span>
            </li>
        </ul>
    </div>


    <div class="container my-5 py-5" id="increment">
        <h1>API</h1>
        <h3><code>/rewards/increment</code></h3>
        <p>returns a reward based on number of requests users send, more requests = more chances of good reward.</p>
        <h5 class="text-primary">Working</h5>
        <ol class="text-muted">
            <li>Also returns a cookie which represents how many times user hit the endpoint</li>
            <li>Uses secure signed cookie, which will expire in 2 minutes</li>
            <li>Seleted data from data set based on that cookie</li>
            <li>Then it genrates a random number based on seleted data length</li>
            <li>Finally returns reward from seleted data based on random index</li>
        </ol>
    </div>


    <div class="container my-5 py-5" id="random">
        <h3><code>/rewards/random</code></h3>
        <p>returns a reward based on random number and probabilty of an reward.</p>
        <h5 class="text-primary">Working</h5>
        <ol class="text-muted">
            <li>Selects a random number between 0-100</li>
            <li>Based on that number it selects the part of dataset</li>
            <li>Selected data is also based on probability</li>
            <li>Then again it genrates a random number based on seleted data length</li>
            <li>Finally returns reward from seleted data based on random index</li>
        </ol>
    </div>

    <div class="container my-5 py-5">
        <h4 class="text-light">Data Set <span class="text-primary">Preview</span></h4>
        <p class="text-muted">chances ranges between 0-100</p>
        <pre class="text-warning">
        <code>
        {
            "bronze": {
                "rewards": [
                { "reward": "Bronze", "coins": 10 },
                { "reward": "Bronze", "coins": 20 },
                { "reward": "Bronze", "coins": 30 },
                { "reward": "Bronze", "coins": 40 },
                { "reward": "Bronze", "coins": 50 }
                ],
                "chances": 100
            },
            "silver": {
                "rewards": [
                { "reward": "Silver", "coins": 10 },
                { "reward": "Silver", "coins": 20 },
                { "reward": "Silver", "coins": 30 },
                { "reward": "Silver", "coins": 40 },
                { "reward": "Silver", "coins": 50 }
                ],
                "chances": 50
            },
            "gold": {
                "rewards": [
                { "reward": "Gold", "coins": 10 },
                { "reward": "Gold", "coins": 20 },
                { "reward": "Gold", "coins": 30 },
                { "reward": "Gold", "coins": 40 },
                { "reward": "Gold", "coins": 50 }
                ],
                "chances": 20
            },
            "diamond": {
                "rewards": [
                { "reward": "Diamond", "coins": 10 },
                { "reward": "Diamond", "coins": 20 },
                { "reward": "Diamond", "coins": 30 },
                { "reward": "Diamond", "coins": 40 },
                { "reward": "Diamond", "coins": 50 }
                ],
                "chances": 10
            }
        }

        </code>
        </pre>
    </div>
    
</body>
</html>